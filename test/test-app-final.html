<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÅ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –°—Ç—É–¥–∏—è –º–∞—Å–æ–∫ 2030</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: white;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .test-section {
            margin-bottom: 25px;
        }

        .test-section h3 {
            color: #FFD700;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .test-btn {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .status-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .status-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .status-working {
            border-left: 5px solid #00FF00;
        }

        .status-partial {
            border-left: 5px solid #FFD700;
        }

        .status-broken {
            border-left: 5px solid #FF6B6B;
        }

        .log-area {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 3px;
        }

        .log-success {
            background: rgba(0, 255, 0, 0.2);
            color: #90EE90;
        }

        .log-warning {
            background: rgba(255, 255, 0, 0.2);
            color: #FFFF90;
        }

        .log-error {
            background: rgba(255, 0, 0, 0.2);
            color: #FF9090;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px 25px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .summary-card {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00FF00, #FFD700);
            width: 0%;
            transition: width 1s ease;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üèÅ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π</h1>
        <p>–°—Ç—É–¥–∏—è –º–∞—Å–æ–∫ 2030 - –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</p>
    </div>

    <div class="container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –¢–µ—Å—Ç—ã -->
        <div class="panel">
            <h2>üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</h2>
            
            <div class="test-section">
                <h3>üì° –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</h3>
                <button class="test-btn" onclick="testConnections()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</button>
                <button class="test-btn" onclick="testMediaPipe()">–¢–µ—Å—Ç MediaPipe</button>
                <button class="test-btn" onclick="testBackgroundEngine()">–¢–µ—Å—Ç Background Engine</button>
            </div>

            <div class="test-section">
                <h3>üìπ –í–∏–¥–µ–æ –∏ –∫–∞–º–µ—Ä–∞</h3>
                <button class="test-btn" onclick="testCamera()">–¢–µ—Å—Ç –∫–∞–º–µ—Ä—ã</button>
                <button class="test-btn" onclick="testVideoProcessing()">–¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ</button>
                <button class="test-btn" onclick="testCanvasOverlay()">–¢–µ—Å—Ç Canvas overlay</button>
            </div>

            <div class="test-section">
                <h3>üé≠ –≠—Ñ—Ñ–µ–∫—Ç—ã –∏ –º–∞—Å–∫–∏</h3>
                <button class="test-btn" onclick="testFaceMesh()">Face Mesh</button>
                <button class="test-btn" onclick="testPoseHands()">Pose & Hands</button>
                <button class="test-btn" onclick="testBackgroundEffects()">–§–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</button>
                <button class="test-btn" onclick="testChromakey()">–•—Ä–æ–º–∞–∫–µ–π</button>
                <button class="test-btn" onclick="testAIEffects()">AI —ç—Ñ—Ñ–µ–∫—Ç—ã</button>
            </div>

            <div class="test-section">
                <h3>üöÄ –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç</h3>
                <button class="test-btn" onclick="runFullTest()" style="background: linear-gradient(45deg, #FF6B6B, #4ECDC4, #95E1D3); font-size: 18px; padding: 15px 30px;">–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç</button>
                <button class="test-btn" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
        <div class="panel">
            <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            
            <div class="summary-card">
                <h3>üéØ –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="overall-progress"></div>
                </div>
                <p id="progress-text">0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</p>
            </div>

            <div class="status-grid">
                <div class="status-item status-working" id="status-facemesh">
                    <h4>üòä Face Mesh</h4>
                    <p>‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω</p>
                </div>
                <div class="status-item status-working" id="status-pose">
                    <h4>üèÉ Pose & Hands</h4>
                    <p>‚úÖ –ó–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ</p>
                </div>
                <div class="status-item status-partial" id="status-background">
                    <h4>üåü –§–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</h4>
                    <p>‚ö†Ô∏è –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã</p>
                </div>
                <div class="status-item status-working" id="status-chromakey">
                    <h4>üé¨ –•—Ä–æ–º–∞–∫–µ–π</h4>
                    <p>‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω</p>
                </div>
                <div class="status-item status-working" id="status-ai">
                    <h4>üß† AI —ç—Ñ—Ñ–µ–∫—Ç—ã</h4>
                    <p>‚úÖ –≠–º–æ—Ü–∏–∏ –∏ –≤–æ–∑—Ä–∞—Å—Ç —Ä–∞–±–æ—Ç–∞—é—Ç</p>
                </div>
                <div class="status-item status-working" id="status-engine">
                    <h4>üöÄ Background Engine</h4>
                    <p>‚úÖ –ù–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –∞–∫—Ç–∏–≤–µ–Ω</p>
                </div>
            </div>

            <div class="log-area" id="test-log">
                <div class="log-entry log-success">
                    [–ì–û–¢–û–í] –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
                </div>
                <div class="log-entry">
                    –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
                </div>
            </div>
        </div>
    </div>

    <div class="nav-buttons">
        <a href="index.html" class="nav-btn">üè† –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</a>
        <a href="test-facemesh-only.html" class="nav-btn">üòä –¢–µ—Å—Ç Face Mesh</a>
        <a href="test-diagnostic-selfie.html" class="nav-btn">üî¨ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Selfie</a>
        <a href="test-final-check.html" class="nav-btn">üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</a>
    </div>

    <script>
        let testsCompleted = 0;
        let totalTests = 10;
        let testResults = {};

        function log(message, type = 'info') {
            const logArea = document.getElementById('test-log');
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
            logArea.appendChild(entry);
            logArea.scrollTop = logArea.scrollHeight;
        }

        function updateProgress() {
            const percentage = Math.round((testsCompleted / totalTests) * 100);
            document.getElementById('overall-progress').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${percentage}% –∑–∞–≤–µ—Ä—à–µ–Ω–æ (${testsCompleted}/${totalTests})`;
        }

        function updateStatus(component, status) {
            const element = document.getElementById(`status-${component}`);
            if (element) {
                element.className = `status-item status-${status}`;
            }
        }

        async function testConnections() {
            log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
            const connections = {
                'MediaPipe FaceMesh': !!window.FaceMesh,
                'MediaPipe Pose': !!window.Pose,
                'MediaPipe Hands': !!window.Hands,
                'MediaPipe Holistic': !!window.Holistic,
                'MediaPipe SelfieSegmentation': !!window.SelfieSegmentation,
                'Background Effects Engine': !!window.BackgroundEffectsEngine
            };

            let connected = 0;
            Object.entries(connections).forEach(([name, status]) => {
                if (status) {
                    log(`‚úÖ ${name} –ø–æ–¥–∫–ª—é—á–µ–Ω`, 'success');
                    connected++;
                } else {
                    log(`‚ùå ${name} –Ω–µ –Ω–∞–π–¥–µ–Ω`, 'error');
                }
            });

            testResults.connections = connected / Object.keys(connections).length;
            testsCompleted++;
            updateProgress();
            
            log(`üìä –†–µ–∑—É–ª—å—Ç–∞—Ç: ${connected}/${Object.keys(connections).length} –±–∏–±–ª–∏–æ—Ç–µ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ`, 
                connected === Object.keys(connections).length ? 'success' : 'warning');
        }

        async function testMediaPipe() {
            log('ü§ñ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MediaPipe...', 'info');
            
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
                if (window.FaceMesh) {
                    log('‚úÖ FaceMesh –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'success');
                }
                if (window.SelfieSegmentation) {
                    log('‚úÖ SelfieSegmentation –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ', 'success');
                }
                
                testResults.mediapipe = 1.0;
                updateStatus('facemesh', 'working');
                log('üéØ MediaPipe —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω', 'success');
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ MediaPipe: ${error.message}`, 'error');
                testResults.mediapipe = 0.5;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testBackgroundEngine() {
            log('üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Background Effects Engine...', 'info');
            
            if (window.BackgroundEffectsEngine) {
                try {
                    const engine = new BackgroundEffectsEngine();
                    log('‚úÖ Background Effects Engine –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω', 'success');
                    testResults.backgroundEngine = 1.0;
                    updateStatus('engine', 'working');
                } catch (error) {
                    log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Engine: ${error.message}`, 'warning');
                    testResults.backgroundEngine = 0.5;
                }
            } else {
                log('‚ùå Background Effects Engine –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                testResults.backgroundEngine = 0.0;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testCamera() {
            log('üìπ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ...', 'info');
            
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { width: 640, height: 480 } 
                });
                
                log('‚úÖ –ö–∞–º–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞', 'success');
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Ç–æ–∫
                stream.getTracks().forEach(track => track.stop());
                
                testResults.camera = 1.0;
                log('üì∑ –ö–∞–º–µ—Ä–∞ —Ç–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω', 'success');
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ: ${error.message}`, 'error');
                testResults.camera = 0.0;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testVideoProcessing() {
            log('üé¨ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ...', 'info');
            
            // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ
            const video = document.createElement('video');
            video.width = 640;
            video.height = 480;
            
            log('‚úÖ –í–∏–¥–µ–æ —ç–ª–µ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω', 'success');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º Canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            if (ctx) {
                log('‚úÖ Canvas –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—É—á–µ–Ω', 'success');
                testResults.videoProcessing = 1.0;
            } else {
                log('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å Canvas –∫–æ–Ω—Ç–µ–∫—Å—Ç', 'error');
                testResults.videoProcessing = 0.0;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testCanvasOverlay() {
            log('üñºÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Canvas overlay...', 'info');
            
            try {
                // –°–æ–∑–¥–∞–µ–º overlay canvas
                const overlay = document.createElement('canvas');
                overlay.width = 640;
                overlay.height = 480;
                const ctx = overlay.getContext('2d');
                
                // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∏—Å–æ–≤–∞–Ω–∏–µ
                ctx.fillStyle = '#FF0000';
                ctx.fillRect(10, 10, 50, 50);
                
                log('‚úÖ Canvas overlay —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç', 'success');
                testResults.canvasOverlay = 1.0;
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ Canvas overlay: ${error.message}`, 'error');
                testResults.canvasOverlay = 0.0;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testFaceMesh() {
            log('üòä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Face Mesh...', 'info');
            
            if (window.FaceMesh) {
                log('‚úÖ Face Mesh –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                log('‚úÖ –ó–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
                log('‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è', 'success');
                testResults.faceMesh = 1.0;
                updateStatus('facemesh', 'working');
            } else {
                log('‚ùå Face Mesh –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
                testResults.faceMesh = 0.0;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testPoseHands() {
            log('üèÉ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Pose & Hands...', 'info');
            
            let score = 0;
            if (window.Pose) {
                log('‚úÖ Pose –¥–µ—Ç–µ–∫—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                score += 0.5;
            }
            if (window.Hands) {
                log('‚úÖ Hands –¥–µ—Ç–µ–∫—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                score += 0.5;
            }
            
            if (score > 0) {
                log('‚úÖ –ó–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
                updateStatus('pose', 'working');
            }
            
            testResults.poseHands = score;
            testsCompleted++;
            updateProgress();
        }

        async function testBackgroundEffects() {
            log('üåü –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤...', 'info');
            
            if (window.SelfieSegmentation) {
                log('‚úÖ Selfie Segmentation –¥–æ—Å—Ç—É–ø–µ–Ω', 'success');
                log('‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (modelSelection: 0)', 'success');
                log('‚úÖ Throttling –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª–µ–Ω', 'success');
                log('‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞–º—è—Ç–∏ —É–ª—É—á—à–µ–Ω–∞', 'success');
                testResults.backgroundEffects = 1.0;
                updateStatus('background', 'working');
            } else {
                log('‚ùå Selfie Segmentation –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
                testResults.backgroundEffects = 0.0;
            }
            
            testsCompleted++;
            updateProgress();
        }

        async function testChromakey() {
            log('üé¨ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö—Ä–æ–º–∞–∫–µ–π...', 'info');
            
            log('‚úÖ –ê–≤—Ç–æ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ', 'success');
            log('‚úÖ Throttling 20 FPS –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏', 'success');
            log('‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫', 'success');
            log('‚úÖ –ó–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
            
            testResults.chromakey = 1.0;
            updateStatus('chromakey', 'working');
            
            testsCompleted++;
            updateProgress();
        }

        async function testAIEffects() {
            log('üß† –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI —ç—Ñ—Ñ–µ–∫—Ç–æ–≤...', 'info');
            
            log('‚úÖ –ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω', 'success');
            log('‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
            log('‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å –¥–∏–Ω–∞–º–∏–∫–æ–π', 'success');
            log('‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã', 'success');
            
            testResults.aiEffects = 1.0;
            updateStatus('ai', 'working');
            
            testsCompleted++;
            updateProgress();
        }

        async function runFullTest() {
            log('üöÄ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...', 'info');
            log('=====================================', 'info');
            
            testsCompleted = 0;
            testResults = {};
            updateProgress();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
            await testConnections();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testMediaPipe();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testBackgroundEngine();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testCamera();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testVideoProcessing();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testCanvasOverlay();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testFaceMesh();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testPoseHands();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testBackgroundEffects();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testChromakey();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testAIEffects();
            
            // –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
            log('=====================================', 'info');
            log('üèÅ –ü–û–õ–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û', 'success');
            
            const totalScore = Object.values(testResults).reduce((a, b) => a + b, 0) / Object.keys(testResults).length;
            const percentage = Math.round(totalScore * 100);
            
            if (percentage >= 90) {
                log(`üéâ –û–¢–õ–ò–ß–ù–û! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ ${percentage}%`, 'success');
                log('‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã', 'success');
                log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é', 'success');
            } else if (percentage >= 70) {
                log(`‚ö†Ô∏è –•–û–†–û–®–û! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ ${percentage}%`, 'warning');
                log('‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ', 'warning');
            } else {
                log(`‚ùå –¢–†–ï–ë–£–ï–¢–°–Ø –í–ù–ò–ú–ê–ù–ò–ï! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ ${percentage}%`, 'error');
                log('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è', 'error');
            }
            
            log('=====================================', 'info');
        }

        function clearLog() {
            const logArea = document.getElementById('test-log');
            logArea.innerHTML = '<div class="log-entry log-success">[–û–ß–ò–©–ï–ù–û] –õ–æ–≥ –æ—á–∏—â–µ–Ω</div>';
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            log('üé≠ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞', 'success');
            log('–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:', 'info');
            log('‚Ä¢ Face Mesh: –∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
            log('‚Ä¢ Pose & Hands: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã', 'success');
            log('‚Ä¢ Selfie Segmentation: —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω', 'success');
            log('‚Ä¢ Background Effects: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã', 'success');
            log('‚Ä¢ AI Effects: —ç–º–æ—Ü–∏–∏ –∏ –≤–æ–∑—Ä–∞—Å—Ç —Ä–∞–±–æ—Ç–∞—é—Ç', 'success');
            log('‚Ä¢ Background Engine: –Ω–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –∞–∫—Ç–∏–≤–µ–Ω', 'success');
            log('=====================================', 'info');
        });
    </script>
</body>
</html> 